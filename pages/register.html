<!doctype html>
<html lang="fa" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Git Bootcamp</title>
    <link rel="stylesheet" href="../assets/css/custom_style.css">
    <link rel="shortcut icon" href="../assets/img/Git_icon.svg.png" type="image/x-icon">
</head>

<body class=" bg-[#240600]">
<div class="container font-bakh flex items-center justify-center h-screen text-white">
    <div class="absolute inset-0 overflow-hidden -z-50">
        <img class="absolute left-0 -top-[250px]" src="../assets/img/Ellipse-4.svg" alt="">
        <img class="absolute right-0 bottom-0" src="../assets/img/Ellipse-5.svg" alt="">
    </div>
    <div class="my-box relative w-125 bg-white/10 px-6 py-8 shadow-[0px_4px_38px_5px_#00000012] rounded-2xl">

        <img src="../assets/img/Git_icon.svg.png" alt="giticon" class="w-[145px] h-[145px] mx-auto">
        <h2 class="font-bakh_bold text-2xl mt-6 text-center">فرم ثبت‌نام بوت‌کمپ</h2>

        <form id="form" action="https://formspree.io/f/xnnegaee" method="POST">

            <input name="name" class="focus:border-white/20 focus:border-2 hover:border-white/20 w-full px-5 py-3 rounded-lg border border-white/10 mt-7" type="text" placeholder="نام و نام خانوادگی" required>
            <input name="id" class="focus:border-white/20 focus:border-2 hover:border-white/20 w-full px-5 py-3 rounded-lg border border-white/10 mt-5" type="text" placeholder="شماره دانشجویی" required>
            <input name="phone" class="focus:border-white/20 focus:border-2 hover:border-white/20 w-full px-5 py-3 rounded-lg border border-white/10 mt-5" type="text" placeholder="شماره تماس" required>
            <input name="field" class="focus:border-white/20 focus:border-2 hover:border-white/20 w-full px-5 py-3 rounded-lg border border-white/10 mt-5"  type="text" placeholder="رشته تحصیلی" required>

            <input type="hidden" name="_next" value="https://amirtvn04.github.io/git-bootcamp/">

            <button type="submit"
           class=" cursor-pointer bg-white py-3 w-full inline-block text-center rounded-[100px] text-[#240600] font-bakh text-lg shadow-[0px_2px_20px_0px_#f1503059] mt-7">ثبت اطلاعات</button>
        </form>
        <div id="message" class="text-center" style="display:none; margin-top:10px;"></div>

    </div>
</div>
</body>

<script>
    document.getElementById("form").addEventListener("submit", async function(e){
        e.preventDefault();

        const form = e.target;
        const data = new FormData(form);

        const response = await fetch(form.action, {
            method: form.method,
            body: data,
            headers: { 'Accept': 'application/json' }
        });

        const msgDiv = document.getElementById("message");

        if (response.ok) {
            msgDiv.style.display = "block";
            msgDiv.style.color = "green";
            msgDiv.innerText = "ثبت اطلاعات با موفقیت انجام شد! در حال هدایت...";

            setTimeout(() => {
                window.location.href = "success.html";
            }, 2000);

            form.reset();
        } else {
            const result = await response.json();
            msgDiv.style.display = "block";
            msgDiv.style.color = "red";
            msgDiv.innerText = result.error || "ارسال با خطا مواجه شد. دوباره تلاش کنید.";
        }
    });
</script>

</html>